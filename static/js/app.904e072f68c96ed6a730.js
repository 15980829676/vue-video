webpackJsonp([1,0],[function(e,t,o){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}var s=o(9),n=i(s),l=o(7),d=i(l);new n["default"]({el:"body",components:{App:d["default"]}})},function(e,t,o){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=o(8),n=i(s);t["default"]={data:function(){return{video:{sources:[{src:"http://covteam.u.qiniudn.com/oceans.mp4",type:"video/mp4"}],options:{autoplay:!0,volume:.6,poster:"http://covteam.u.qiniudn.com/poster.png"}}}},components:{vuedio:n["default"]}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){var t=arguments.length<=1||void 0===arguments[1]?"x":arguments[1];return"x"===t?e.pageX:e.pageY},i=function(e){return e=Math.floor(e),e<10?"0"+e:e+""},s=function(e){var t=0;return t=Math.floor(e/60),e-=60*t,i(t)+":"+i(e)};t["default"]={props:{sources:Array,options:{type:Object,"default":function(){return{autoplay:!1,volume:.9,poster:""}}}},data:function(){return{$video:null,video:{$videoSlider:null,len:0,current:0,loaded:0,moving:!1,displayTime:"00:00",pos:{start:0,width:0,innerWidth:0,current:0}},volume:{$volBox:null,muted:!1,percent:60,moving:!1,pos:{start:0,width:0,innerWidth:0,current:0}},player:{$player:null,pos:null},tmp:{contrlHideTimer:null},state:{contrlShow:!0,vol:.5,currentTime:0,fullScreen:!1,playing:!1}}},ready:function(){this.$video=this.$el.getElementsByTagName("video")[0],this.init(),this.options.autoplay&&this.play(),document.body.addEventListener("mousemove",this.mouseMoveAction,!1),document.body.addEventListener("mouseup",this.mouseUpAction,!1)},beforeDestroy:function(){document.body.removeEventListener("mousemove",this.mouseMoveAction),document.body.removeEventListener("mouseup",this.mouseUpAction)},methods:{init:function(){this.initVol(),this.initVideo(),this.initPlayer();var e=this.options.volume||.9;this.setVol(e)},initPlayer:function(){var e=this.$el.getElementsByClassName("__cov-video-container")[0];this.player.pos=e.getBoundingClientRect(),this.player.$player=e},initVol:function(){var e=this.$el.getElementsByClassName("__cov-contrl-vol-slider")[0],t=e.getElementsByClassName("__cov-contrl-vol-inner")[0];this.volume.$volBox=e,this.volume.pos.innerWidth=t.getBoundingClientRect().width,this.volume.pos.start=e.getBoundingClientRect().left,this.volume.pos.width=e.getBoundingClientRect().width-this.volume.pos.innerWidth},initVideo:function(){var e=this.$el.getElementsByClassName("__cov-contrl-video-slider")[0],t=e.getElementsByClassName("__cov-contrl-video-inner")[0];this.$videoSlider=e,this.video.pos.start=e.getBoundingClientRect().left,this.video.pos.innerWidth=t.getBoundingClientRect().width,this.video.pos.width=e.getBoundingClientRect().width-this.video.pos.innerWidth,this.getTime()},mouseEnterVideo:function(){this.tmp.contrlHideTimer&&(clearTimeout(this.tmp.contrlHideTimer),this.tmp.contrlHideTimer=null),this.state.contrlShow=!0},mouseLeaveVideo:function(e){var t=this;this.tmp.contrlHideTimer&&clearTimeout(this.tmp.contrlHideTimer),this.tmp.contrlHideTimer=setTimeout(function(){t.state.contrlShow=!1,t.tmp.contrlHideTimer=null},2e3)},toggleContrlShow:function(){this.state.contrlShow=!this.state.contrlShow},getTime:function(){var e=this;this.$video.addEventListener("durationchange",function(e){console.log(e)}),this.$video.addEventListener("progress",function(t){e.video.loaded=100*(-1+e.$video.buffered.end(0)/e.$video.duration)}),this.video.len=this.$video.duration},setVideoByTime:function(e){this.$video.currentTime=Math.floor(e*this.video.len)},play:function(){var e=this;this.state.playing=!this.state.playing,this.$video&&(this.state.playing?(this.$video.play(),this.mouseLeaveVideo(),this.$video.addEventListener("timeupdate",this.timeline),this.$video.addEventListener("ended",function(t){e.state.playing=!1,e.video.pos.current=0,e.$video.currentTime=0})):this.$video.pause())},timeline:function(){var e=this.$video.currentTime/this.$video.duration;this.video.pos.current=(this.video.pos.width*e).toFixed(3),this.video.displayTime=s(this.$video.duration-this.$video.currentTime)},volMove:function(e){this.initVol(),this.volume.moving=!0},videoMove:function(e){this.initVideo(),this.video.moving=!0},slideClick:function(e){this.videoSlideMove(e)},volSlideClick:function(e){this.volSlideMove(e)},volMuted:function(){this.$video.muted=!this.$video.muted,this.volume.muted=this.$video.muted},setVol:function(e){this.$video&&(this.volume.pos.current=e*this.volume.pos.width,this.volume.percent=100*e,this.$video.volume=e)},fullScreen:function(){this.state.fullScreen?(this.state.fullScreen=!1,document.webkitCancelFullScreen()):(this.state.fullScreen=!0,this.$video.webkitRequestFullScreen()),setTimeout(this.initVideo,200)},mouseMoveAction:function(e){this.volume.moving&&this.volSlideMove(e),this.video.moving&&this.videoSlideMove(e),this.contrlHider(e)},contrlHider:function(e){var t=o(e,"x"),i=o(e,"y");if(this.player.pos)return t>this.player.pos.left&&t<this.player.pos.left+this.player.pos.width&&i>this.player.pos.top+.6*this.player.pos.height&&i<this.player.pos.top+this.player.pos.height?this.mouseEnterVideo():this.mouseLeaveVideo()},volSlideMove:function(e){var t=o(e)-this.volume.pos.start;t>0&&t<this.volume.pos.width&&this.setVol(t/this.volume.pos.width)},videoSlideMove:function(e){var t=o(e)-this.video.pos.start;t>0&&t<this.video.pos.width&&(this.video.pos.current=t,this.setVideoByTime(t/this.video.pos.width))},mouseUpAction:function(e){this.volume.moving=!1,this.video.moving=!1}}}},function(e,t){},function(e,t){},function(e,t){e.exports="<div id=app> <div class=container> <vuedio :sources=video.sources></vuedio> </div> </div>"},function(e,t){e.exports='<div id=app> <div class=container> <div class=__cov-video-container @mouseenter=mouseEnterVideo @mouseleave=mouseLeaveVideo> <video :class="{ \'hide-cursor\': !state.contrlShow }" class=__cov-video :poster=options.poster> <source v-for="source in sources" :src=source.src :type=source.type>  </video> <div class=__cov-contrl-content transition=fade show=state.contrlShow> <button class=__cov-contrl-play-btn @click=play> <svg class=__cov-contrl-play-btn-icon v-show=!state.playing viewBox="0 0 47 57" version=1.1 xmlns=http://www.w3.org/2000/svg> <title>Triangle 1</title> <desc>Created with Sketch.</desc> <defs></defs> <g id=Page-1 stroke=none stroke-width=1 fill=none fill-rule=evenodd> <polygon id=Triangle-1 stroke=#FFFFFF fill=#FFFFFF points="1 56 1 1 47 28.5"></polygon> </g> </svg> <svg class=__cov-contrl-play-btn-icon v-show=state.playing viewBox="0 0 15 22" version=1.1 xmlns=http://www.w3.org/2000/svg> <title>Combined Shape</title> <desc>Created with Sketch.</desc> <defs> <path d="M0,0.979149244 L5,0.979149244 L5,22 L0,22 L0,0.979149244 Z M10,0.979149244 L15,0.979149244 L15,22 L10,22 L10,0.979149244 Z" id=path-1></path> <mask id=mask-2 maskContentUnits=userSpaceOnUse maskUnits=objectBoundingBox x=0 y=0 width=15 height=21.0208508 fill=white> <use xlink:href=#path-1></use> </mask> </defs> <g id=Page-1 stroke=none stroke-width=1 fill=none fill-rule=evenodd> <use id=Combined-Shape stroke=#FFFFFF mask=url(#mask-2) stroke-width=2 fill=#FFFFFF xlink:href=#path-1></use> </g> </svg> </button> <div class=__cov-contrl-video-slider @click=slideClick @mousedown=videoMove> <div class=__cov-contrl-video-inner :style="{ \'transform\': `translate3d(${video.pos.current}px, 0, 0)`}"></div> <div class=__cov-contrl-video-rail> <div class=__cov-contrl-video-rail-inner :style="{ \'transform\': \'translateX(\' +video.loaded + \'%)\'}"></div> </div> </div> <div class=__cov-contrl-video-time> <span class=__cov-contrl-video-time-text>{{video.displayTime}}</span> </div> <div class=__cov-contrl-vol-box> <button class=__cov-contrl-play-btn @click=volMuted> <svg class=__cov-contrl-vol-btn-icon viewBox="0 0 41 44" version=1.1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink> <title>vol</title> <desc>Created with Sketch.</desc> <defs> <path d="M8.61522369,12 L20,0.615223689 L20,37.3847763 L8.61522369,26 L1.99201702,26 C0.891856397,26 0,25.1029399 0,23.9941413 L0,14.0058587 C0,12.8980535 0.900176167,12 1.99201702,12 L8.61522369,12 L8.61522369,12 Z" id=cov-vol></path> </defs> <g id=Page-1 stroke=none stroke-width=2 fill=none fill-rule=evenodd> <g id=vol transform="translate(2.000000, 3.000000)"> <g id=cov-vol-icon> <g id=Combined-Shape-Clipped> <path v-show="volume.percent > 1 && !volume.muted" d="M25,29.5538997 C28.4589093,27.6757536 31.2629093,23.2984641 31.2629093,19.7769499 C31.2629093,16.2554357 28.4589093,11.8781461 25,10" id=vol-range-2 stroke=#FFFFFF></path> <path v-show="volume.percent > 70 && !volume.muted" d="M28,35.5538997 C33.5816016,32.5231573 38.1063837,25.4595762 38.1063837,19.7769499 C38.1063837,14.0943235 33.5816016,7.03074247 28,4" id=vol-range-2 stroke=#FFFFFF></path> <mask id=mask-2 fill=white> <use xlink:href=#cov-vol></use> </mask> <use id=vol-path stroke=#FFFFFF stroke-width=3 xlink:href=#cov-vol></use> <g id=Combined-Shape mask=url(#mask-2) stroke=#FFFFFF stroke-width=2 fill=#FFFFFF> <path d="M8.61522369,12 L20,0.615223689 L20,37.3847763 L8.61522369,26 L1.99201702,26 C0.891856397,26 0,25.1029399 0,23.9941413 L0,14.0058587 C0,12.8980535 0.900176167,12 1.99201702,12 L8.61522369,12 L8.61522369,12 Z" id=cov-vol></path> </g> </g> </g> </g> </g> </svg> </button> <div class=__cov-contrl-vol-slider @click=volSlideClick @mousedown=volMove> <div class=__cov-contrl-vol-inner :style="{ \'transform\': `translate3d(${volume.pos.current}px, 0, 0)`}"></div> <div class=__cov-contrl-vol-rail></div> </div> </div> <button class=__cov-contrl-play-btn @click=fullScreen> <svg class=__cov-contrl-vol-btn-icon viewBox="0 0 33 33" version=1.1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink> <defs></defs> <g id=Page-1 stroke=none stroke-width=1 fill=none fill-rule=evenodd> <path d="M31.1682064,22 L31.1682064,31.0073537 L22,31.0073537 M22,1 L31.0073537,1 L31.0073537,10.1682064 M1,10.0073537 L1,1 L10.1682064,1 M10.0073537,31.1682064 L1,31.1682064 L1,22" id=Combined-Shape stroke=#FFFFFF stroke-width=2></path> </g> </svg> </button> </div> </div> </div> </div>'},function(e,t,o){var i,s;o(3),i=o(1),s=o(5),e.exports=i||{},e.exports.__esModule&&(e.exports=e.exports["default"]),s&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=s)},function(e,t,o){var i,s;o(4),i=o(2),s=o(6),e.exports=i||{},e.exports.__esModule&&(e.exports=e.exports["default"]),s&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=s)}]);
//# sourceMappingURL=app.904e072f68c96ed6a730.js.map